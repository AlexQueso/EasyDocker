<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EasyDocker</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

<div class="content">

    <div class="header">

        <div class="header">
            <div class="image-container">
                <div>
                    <img src="/SVG/docker-easy.svg" alt="logo">
                </div>
                <div>EasyDocker</div>
            </div>
        </div>

        {{#user-logged}}
        <div class="user-info">
            <p>{{username}}</p>
            <a href="/log-out">Log out</a>
        </div>
        {{/user-logged}}

        {{#user-temporal}}
        <div class="user-info">
            <a href="/sign_up">Create an Account</a>
        </div>
        {{/user-temporal}}
    </div>

    {{#user}}
    <div class="container-item">
        <div class="container-item-header">
            <div class="container-item-header-title">
                <h2>Projects</h2>
            </div>
            <div class="add-new-form">
                <form method="post" class="form vertical" action="/new-project">
                    <label class="form-entry-add">
                        <input type="text" class="entry-add" name="name" placeholder="Give a name" required>
                    </label>
                    <button class="btn-add" type="submit">New Project</button>

                    <input type="hidden" name="_csrf" value="{{token}}">

                </form>
            </div>
        </div>

        <div class="container-content">
            <div class="items-list">
                {{#projects}}
                <div class="container-content-items" >
                    <a href="/project/{{id}}">{{name}}</a>
                    <a href="/delete-project/{{id}}">Delete</a>
                </div>
                {{/projects}}
            </div>
        </div>

    </div>
    {{/user}}

    {{#project}}
    <div class="container-item">
        <div class="container-item-header">
            <div class="container-item-header-title">
                <h2>Templates</h2>
            </div>

            <div class="add-new-form">
                <form method="post" class="form vertical" action="/new-template/{{idProject}}">
                    <label class="form-entry-add">
                        <input type="text" name="name" placeholder="Give a name" required>
                    </label>
                    <button class="btn-add" type="submit">New Template</button>

                    <input type="hidden" name="_csrf" value="{{token}}">

                </form>
            </div>
        </div>

        <div class="container-content">
            <div class="items-list">
                {{#templates}}
                <div class="container-content-items">
                    <a href="/template/{{id}}">{{name}}</a>
                    <a href="/delete-template/{{id}}/{{idProject}}">Delete</a>
                </div>
                {{/templates}}
            </div>
        </div>
    </div>
    {{/project}}

    {{#template}}
    <div class="container-item">
        <div class="container-item-header">
            <div class="container-item-header-title">
                <h2>Template Editor</h2>
            </div>
            <div class="container-item-header-button">
                <a href="/generate-compose">Compose</a>
            </div>
        </div>

        <div class="container-content">
            <div class="editor">
                <div class="editor-columns">
                    <div class="editor-col" id="services">
                        <div class="editor-col-header">
                            <p>Services</p>
                            <div>
                                <form method="post" class="form vertical" action="/new-service/{{idTemplate}}">
                                    <label class="form-entry-add">
                                        <input type="text" name="name" placeholder="Give a name" required>
                                    </label>

                                    <input type="hidden" name="_csrf" value="{{token}}">

                                    <button class="btn-add" type="submit">Add Service</button>
                                </form>
                            </div>
                        </div>
                        <div class="editor-col-list">
                            <div class="container-content">
                                <div class="items-list">
                                    {{#services}}
                                    <div class="container-content-items">
                                        <a href="/service/{{id}}">{{name}}</a>
                                        <a href="/delete-from/{{idTemplate}}/service/{{id}}/">Delete</a>
                                    </div>
                                    {{/services}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-col" id="networks">
                        <div class="editor-col-header">
                            <p>Networks</p>
                            <div>
                                <form method="post" class="form vertical" action="/new-network/{{idTemplate}}">
                                    <label class="form-entry-add">
                                        <input type="text" name="name" placeholder="Give a name" required>
                                    </label>

                                    <input type="hidden" name="_csrf" value="{{token}}">

                                    <button class="btn-add" type="submit">Add Network</button>
                                </form>
                            </div>
                        </div>
                        <div class="editor-col-list">
                            <div class="container-content">
                                <div class="items-list">
                                    {{#networks}}
                                    <div class="container-content-items">
                                        <a href="/network/{{id}}">{{name}}</a>
                                        <a href="/delete-from/{{idTemplate}}/network/{{id}}/">Delete</a>
                                    </div>
                                    {{/networks}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-col" id="volumes">
                        <div class="editor-col-header">
                            <p>Volumes</p>
                            <div>
                                <form method="post" class="form vertical" action="/new-volume/{{idTemplate}}">
                                    <label class="form-entry-add">
                                        <input type="text" name="name" placeholder="Give a name" required>
                                    </label>

                                    <input type="hidden" name="_csrf" value="{{token}}">

                                    <button class="btn-add" type="submit">Add Volume</button>
                                </form>
                            </div>
                        </div>
                        <div class="editor-col-list">
                            <div class="container-content">
                                <div class="items-list">
                                    {{#volumes}}
                                    <div class="container-content-items">
                                        <a href="/volume/{{id}}">{{name}}</a>
                                        <a href="/delete-from/{{idTemplate}}/volume/{{id}}/">Delete</a>
                                    </div>
                                    {{/volumes}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="editor-columns">
                    <textarea name="logs"></textarea>
                </div>

            </div>
        </div>
    </div>
    {{/template}}

    <div class="footer">
        <h2>Include 2020</h2>
    </div>

</div>


</body>
</html>